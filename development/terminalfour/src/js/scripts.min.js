/** 
 * TERMINALFOUR custom scripts 
 * Created by Michael Mason 
  */
!function(a){"use strict";/* Lightbox modal - Ekko-lightbox */
//    $(document).on('load', '.modal-footer', function() {
//        $(this).text( $('.gallery-active').attr('data-caption')).show();
//        console.log('Footer text '+$('.modal-footer').text());
//    });
$(document).on("click",'[data-toggle="lightbox"]',function(a){a.preventDefault(),$(this).ekkoLightbox({onContentLoaded:function(){$(".modal-backdrop").addClass("ekko-lightbox")},alwaysShowClose:!0}),$(this).addClass("gallery-active")}),/* 
     * Slick slider initialization
     * 
     */
$(".slick-gallery").slick({mobileFirst:!0,prevArrow:".arrow-left-icon.dfa-icon",nextArrow:".arrow-right-icon.dfa-icon",responsive:[{breakpoint:1024,settings:{centerMode:!0,centerPadding:"30px",slidesToShow:3,slidesToScroll:3}},{breakpoint:768,settings:{centerMode:!0,centerPadding:"30px",slidesToShow:2,slidesToScroll:2}}]}),/* 
     * BS Accordion http://getbootstrap.com/javascript/#collapse-example-accordion
     */
$(".panel-group.dfa-accordion")&&($(".panel-collapse").on("show.bs.collapse",function(){$(this).siblings(".panel-heading").addClass("active")}).on("hide.bs.collapse",function(){console.log("Show "+$(this)),$(this).siblings(".panel-heading").removeClass("active")}),$(".panel-collapse").eq(0).collapse("show"));/* 
     * jQuery Match Height https://github.com/liabru/jquery-match-height
     */
var b=[".dfa-widget"];/* Postition hero text in tablet and bigger devices  */
if($(".dfa-widget").matchHeight(),b.forEach(function(a,b,c){$(a).matchHeight()}),/* Handle mobile nav and search */
$(".header-navigation__mobile-search, .header-navigation__mobile-menu, .desktop-search").on("click",function(a){a.preventDefault();var b=$(this),c=$(".header-navigation__mobile-search, .header-navigation__mobile-menu").not(b);console.log(c);var d=$("#"+b.attr("data-target"));if(b.hasClass("desktop-search")&&(b.hasClass("active")?d.slideUp({duration:300,easing:"swing",complete:function(){b.removeClass("active")}}):d.slideDown({duration:300,easing:"swing",complete:function(){b.addClass("active")}})),b.hasClass("active"))d.slideUp({duration:300,easing:"swing",complete:function(){b.removeClass("active")}});else if(c.hasClass("active")){var e=$("#"+c.attr("data-target"));console.log(e),e.slideUp({duration:300,easing:"swing",complete:function(){c.removeClass("active"),d.slideDown({duration:300,easing:"swing",complete:function(){b.addClass("active")}})}})}else d.slideDown({duration:300,easing:"swing",complete:function(){b.addClass("active")}})}),/* Site-wide search handlers */
$("#search-submit-button").on("click",function(a){a.preventDefault(),$("#dfa-site-search-input").submit()}),$("#dfa-site-search-input").on("focus",function(a){var b=$(this).attr("placeholder");$(this).attr("placeholder",""),$(this).on("blur",function(a){$(this).attr("placeholder",b)})}),$(".hero-text")&&(console.log("there is a hero text element"),window.outerWidth>768)){var c=$(".hero-text"),d=c.attr("data-posx")?c.attr("data-posx"):50,e=c.attr("data-posy")?c.attr("data-posy"):50,f=c.attr("data-align")?c.attr("data-align"):"centre";c.css({left:d+"%",top:e+"%",textAlign:f}),$(a).on("resize",function(){c.css({left:d+"%",top:e+"%",textAlign:f})})}}(window);